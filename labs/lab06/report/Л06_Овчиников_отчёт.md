> **–û—Ç—á—ë—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ** ‚Ññ**6**

**–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ NASM.**

–î–∞–Ω–∏–ª –ï–≤–≥–µ–Ω—å–µ–≤–∏—á –û–≤—á–∏–Ω–∏–∫–æ–≤

**1** **–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã**

–û—Å–≤–æ–µ–Ω–∏–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —è–∑—ã–∫–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ NASM.

+-------+-----+------------------------------------------------------+
| **2** | > ‚Ä¢ | > **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã**                 |
+=======+=====+======================================================+
|       |     | –°–æ–∑–¥–∞–¥–∏–º –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã  |
|       |     | ‚Ññ 6, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤                                     |
+-------+-----+------------------------------------------------------+
|       |     | > –Ω–µ–≥–æ –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª lab7-1.asm:                   |
+-------+-----+------------------------------------------------------+

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image1.png){width="5.85in"
height="0.6027766841644795in"}

*–†–∏—Å. 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã.*

> ‚Ä¢ –°–æ–∑–¥–∞–¥–∏–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª, –≤–≤–µ–¥–µ–º –≤ –Ω–µ–≥–æ –ª–∏—Å—Ç–∏–Ω–≥ 6.1 –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ.

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image2.png){width="5.85in"
height="2.8541666666666665in"}

*–†–∏—Å. 2: –í–≤–æ–¥ –ª–∏—Å—Ç–∏–Ω–≥–∞.*

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image3.png){width="5.85in"
height="1.4472211286089238in"}

*–†–∏—Å. 3: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Ñ–∞–π–ª–∞.*

+---+-----------------------------------------------------------------+
| ‚Ä¢ | > –ò–∑–º–µ–Ω–∏–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –≤–º–µ—Å—Ç–æ —Å–∏–º–≤–æ–ª–æ–≤, –∑–∞–ø–∏—à–µ–º –≤ —Ä–µ–≥–∏—Å—Ç—Ä—ã |
|   | > —á–∏—Å–ª–∞. –ò—Å–ø—Ä–∞–≤–∏–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã (–õ–∏—Å—Ç–∏–Ω–≥ 1) —Å–ª–µ–¥—É—é—â–∏–º         |
|   | > –æ–±—Ä–∞–∑–æ–º.                                                      |
+---+-----------------------------------------------------------------+

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image4.png){width="5.85in"
height="2.8541666666666665in"}

*–†–∏—Å. 4: –ó–∞–º–µ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–¥–∞ –ª–∏—Å—Ç–∏–Ω–≥–∞.*

+---+-------------------------------------------------------------------------+
| ‚Ä¢ | +---+-----------------------------------------------------------------+ |
|   | |   | > –°–æ–∑–¥–∏–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ. –°–∏–º–≤–æ–ª –Ω–µ             | |
|   | |   | > –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∏–º–≤–æ–ª—É ‚óô.   | |
|   | +---+-----------------------------------------------------------------+ |
|   |                                                                         |
|   | ‚Ä¢                                                                       |
+---+-------------------------------------------------------------------------+

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image5.png){width="5.85in"
height="0.9in"}

*–†–∏—Å. 5: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞.*

+---+-------------------------------------------------------------------------+
| ‚Ä¢ | +---+-----------------------------------------------------------------+ |
|   | |   | > –°–æ–∑–¥–∏–º —Ñ–∞–π–ª lab6-2.asm –≤ –∫–∞—Ç–∞–ª–æ–≥–µ \~/work/arch-pc/lab06 –∏     | |
|   | |   | > –≤–≤–µ–¥–µ–º –≤ –Ω–µ–≥–æ —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ 6.2.                | |
|   | +---+-----------------------------------------------------------------+ |
|   |                                                                         |
|   | ‚Ä¢                                                                       |
+---+-------------------------------------------------------------------------+

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image6.png){width="5.85in"
height="0.1527777777777778in"}

*–†–∏—Å. 6: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ lab6-2.asm.*

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image7.png){width="5.85in"
height="2.1375in"}

*–†–∏—Å. 7: –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ 6.2.*

> ‚Ä¢ –°–æ–∑–¥–∞–¥–∏–º –∏ –∑–∞–ø—É—Å—Ç–∏–ª —Ñ–∞–π–ª lab6-2.asm.

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image8.png){width="5.85in"
height="0.6736111111111112in"}

*–†–∏—Å. 8: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Ñ–∞–π–ª–∞ lab6-2.asm.*

> ‚Ä¢ –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø—Ä–∏–º–µ—Ä—É –∏–∑–º–µ–Ω–∏–º —Å–∏–º–≤–æ–ª—ã –Ω–∞ —á–∏—Å–ª–∞.

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image9.png){width="5.85in"
height="2.2194444444444446in"}

*–†–∏—Å. 9: –ó–∞–º–µ–Ω–∞ —á–∏—Å–µ–ª.*

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image10.png){width="5.85in"
height="0.7166666666666667in"}

*–†–∏—Å. 10: –°–æ–∑–¥–∞–¥–∏–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ.*

> ‚Ä¢ –°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª lab6-3.asm –≤ –∫–∞—Ç–∞–ª–æ–≥–µ \~/work/arch-pc/lab06:

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image11.png){width="5.85in"
height="0.34999890638670167in"}

*–†–∏—Å. 11: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ lab6-3.asm.*

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image12.png){width="5.666666666666667in"
height="1.2222222222222223in"}

*–†–∏—Å. 12: –ó–∞–ø—É—Å–∫ —Ñ–∞–π–ª–∞.*

> ‚Ä¢ –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ 6.3 –∏ –≤–≤–µ–¥–µ–º –≤
> lab6-3.asm.

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image13.png){width="5.85in"
height="4.766666666666667in"}

*–†–∏—Å. 13: –í–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ 6.3.*

> ‚Ä¢ –°–æ–∑–¥–∞–¥–∏–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ.

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image14.png){width="5.85in"
height="0.8430555555555556in"}

*–†–∏—Å. 14: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–∏ –∏ –≤–Ω–æ—Å –∏–∑–º–µ–Ω–µ–Ω–∏–π*

> ‚Ä¢ –ü–æ–ª—É—á–∏–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏ –ø—Ä–æ–≤–µ—Ä–∏–º –µ–≥–æ —Ä–∞–±–æ—Ç—É

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image15.png){width="5.666666666666667in"
height="1.2666666666666666in"}

*–†–∏—Å. 16: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Ñ–∞–π–ª–∞*

+---+-----------------------------------------------------------------+
| ‚Ä¢ | > –ò–∑–º–µ–Ω–∏–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è ùëì(ùë•) = (4 ‚àó  |
|   | > 6 + 2)/5. –°–æ–∑–¥–∞–¥–∏–º –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ.                            |
+---+-----------------------------------------------------------------+

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image16.png){width="5.85in"
height="4.809722222222222in"}

*–†–∏—Å. 17: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.*

> ‚Ä¢ –°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª variant.asm –≤ –∫–∞—Ç–∞–ª–æ–≥–µ \~/work/arch-pc/lab06:

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image17.png){width="5.85in"
height="0.14027668416447944in"}

*–†–∏—Å. 18: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞.*

+---+-------------------------------------------------------------------------+
| ‚Ä¢ | +---+-----------------------------------------------------------------+ |
|   | |   | > –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ 6.4 –∏ –≤–≤–µ–¥–µ–º –≤ | |
|   | |   | > —Ñ–∞–π–ª variant.asm.                                             | |
|   | +---+-----------------------------------------------------------------+ |
|   |                                                                         |
|   | ‚Ä¢                                                                       |
+---+-------------------------------------------------------------------------+

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image18.png){width="5.85in"
height="4.893055555555556in"}

> ‚Ä¢ –°–æ–∑–¥–∞–¥–∏–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ. –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã

–ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã—á–∏—Å–ª–∏–≤ –Ω–æ–º–µ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏.

1\. –ö–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–∏—Å—Ç–∏–Ω–≥–∞ 7.4 –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –≤—ã–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–æ–æ–±—â–µ–Ω–∏—è '–í–∞—à

–≤–∞—Ä–∏–∞–Ω—Ç\'?: mov eax –∏ rem call sprint.

2\. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏? nasm mov ecx, x

mov edx, 80 call sread:

mov ecx, x - –∑–∞–ø–∏—Å—å –≤—Ö–æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Ä–µ–≥–∏—Å—Ç—Ä ecx;

mov edx, 80 - –∑–∞–ø–∏—Å—å —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–º–Ω–Ω–æ–π –≤ —Ä–µ–≥–∏—Å—Ç—Ä edx; call

sread - –≤—ã–∑–æ–≤ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —á—Ç–æ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö;

3\. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è "call atoi"?: –í—ã–∑–æ–≤ atoi -- —Ñ—É–Ω–∫—Ü–∏—è
–ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∞—è ascii-–∫–æ–¥ —Å–∏–º–≤–æ–ª–∞ –≤ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤
—Ä–µ–≥–∏—Å—Ç—Ä eax.

4\. –ö–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–∏—Å—Ç–∏–Ω–≥–∞ 7.4 –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–∞?: xor edx,
edx mov ebx, 20 div ebx inc edx.

5\. –í –∫–∞–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ "div ebx"?: ebx.

6\. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è "inc edx"?: INC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è
—É–≤–µ–ª–∏—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞–Ω–¥–∞ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É.

7\. –ö–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–∏—Å—Ç–∏–Ω–≥–∞ 7.4 –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –≤—ã–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
–≤—ã—á–∏—Å–ª–µ–Ω–∏–π?: mov eax, rem call sprint mov eax, edx call iprintLF.

![](vertopal_c9052eeeec6a4c5fb78879d0b053bf91/media/image19.png){width="5.85in"
height="0.9444433508311461in"}

*–†–∏—Å. 19: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ –µ–≥–æ –∑–∞–ø—É—Å–∫.*

**3** **–í—ã–≤–æ–¥—ã**

–Ø –æ—Å–≤–æ–∏–ª –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —è–∑—ã–∫–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ NASM.
